# WARNING: this file is auto-generated by 'build_sync_library.py'
# from the original file 'test_filetree.py'
# DO NOT CHANGE! Change the original file instead.
"""Tests for FileTreeStore."""

import tempfile
from collections.abc import Generator

import pytest
from typing_extensions import override

from key_value.sync.code_gen.stores.base import BaseStore
from key_value.sync.code_gen.stores.filetree import FileTreeStore
from tests.code_gen.stores.base import BaseStoreTests


class TestFileTreeStore(BaseStoreTests):
    """Test suite for FileTreeStore."""

    @pytest.fixture
    def store(self) -> Generator[FileTreeStore, None, None]:
        """Create a FileTreeStore instance with a temporary directory."""
        with tempfile.TemporaryDirectory() as temp_dir:
            yield FileTreeStore(data_directory=temp_dir)

    @override
    def test_not_unbounded(self, store: BaseStore):
        """FileTreeStore is unbounded, so skip this test."""
        pytest.skip("FileTreeStore is unbounded and does not evict old entries")
